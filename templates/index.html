<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HWA Neuromorphic Dashboard</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <h1>HWA/TWS Workload Dashboard</h1>
        <nav>
            <a href="/config" class="nav-link" title="Configuration"><i class="fas fa-cog"></i></a>
            <a href="/dashboard_editor" class="nav-link" title="Edit Dashboard"><i class="fas fa-edit"></i></a>
            <a href="/oql_help" class="nav-link" title="OQL Help"><i class="fas fa-book-open"></i></a>
            <a href="/help" class="nav-link" title="Help"><i class="fas fa-question-circle"></i></a>
            <button id="shutdown-btn" class="nav-link" title="Shutdown Application"><i class="fas fa-power-off"></i></button>
        </nav>
    </header>
    <main id="dashboard-container">
        <!-- Summary Widgets will be dynamically loaded here -->
        <section id="summary-widgets" class="summary-widgets-grid">
            <!-- Widgets are now generated by main.js from the layout config -->
        </section>

        <div id="loading-indicator">
            <p>Connecting to HWA/TWS environment...</p>
        </div>
        <div id="error-display" class="hidden"></div>

        <!-- Job Streams Section -->
        <section class="grid-section">
            <h2>Job Streams</h2>
            <div id="job-streams-grid" class="grid-container"></div>
        </section>

        <!-- Workstations Section -->
        <section class="grid-section">
            <h2>Workstations</h2>
            <div id="workstations-grid" class="grid-container"></div>
        </section>

    </main>

    <!-- Inject layout data from backend -->
    <script>
        const dashboardLayout = {{ layout_data|tojson|safe }};
    </script>

    <!-- Third-party libraries -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <!-- Main application script -->
    <script src="/static/js/main.js"></script>
</body>
</html>
